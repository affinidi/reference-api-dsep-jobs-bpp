<div align="center">

# Decentralised Skilling and Education Protocol: Jobs and Internships



</br>
This document serves as a reference for the implementation of the Beckn Provider Platform (BPP) specifically tailored to the Jobs and Internships track, compliant with the DSEP spec v1.0.0. The Job and Internship BPP Service facilitates interactions between job providers/employers and job seekers, with the aim of establishing a transparent ecosystem that promotes learning, connection, problem-solving, and knowledge-sharing within communities.

</div>

## Deployment and Network Registration Details
This repository contains a reference implementation of the BPP that has been onboarded on the Beckn Gateway and Beckn Gateway Registry under the Jobs and Internships category.
- [BPP Deployed URL](https://6vs8xnx5i7.execute-api.ap-south-1.amazonaws.com/dsep) [swaggger](https://6vs8xnx5i7.execute-api.ap-south-1.amazonaws.com/dsep/swagger/index.html)
- BAP [use postman collection to test the BPP](https://github.com/beckn/DSEP-Specification/blob/master/artefacts/postman-collections/jobs-internships/jobs-internships-postman-collection.json)
- BPP Network Participant Id: [affinidi.com.bpp](https://github.com/affinidi/reference-api-dsep-jobs-bpp)
- [Network Participant Information on Beckn Registry](https://registry.becknprotocol.io/network_participants/search/Affinidi/network_participants/show/359)


## Architecture

  <img width="1188" alt="image" src="https://user-images.githubusercontent.com/125359926/221154141-80eef096-80e8-40d1-87f2-0d94c9973dcb.png">


## Tech stack

-   .Net- 6.0 
-   OpenSearch


## Prerequisite to run the BPP API

-   An API to query the job catalogue : in this example DAL-API (Data access layer- API ) 
-   Environment variables as below  

  --

    searchUrl
    searchbaseUrl
    save_xinput_url
    bpp_privatekey
    bpp_subscriber_id
    bpp_unique_key_id
    bpp_url
    bpp_Xinput_url
    verify_signature
    dsep_registry_url
    verify_proxy_signature
    
## Prerequisite to run the DAL-API

- ANY document DB with rest API interface : this example uses OpenSearch to query the catalogue

## Setup Options

Job and Internship BPP service can be setup in local using docker images:

<summary>As part of multi-container local setup with all other services and dependencies using Docker-Compose</summary>

### Docker-Compose Setup Guide
#### what you need 
- docker run time
- docker compose
- postman(or similar )

- #### components in deployment: 

  - BPP
  - Data access layer API 
  - OpenSearch 

  
#### building docker  image for service 
- BPP 

  Navigate to BPP folder 

> docker build . -t dsep-bpp

- Data access layer API  
  
  Navigate to DAL-API 
  
 > docker build . -t dal-api

 Then use the local docker compose file https://github.com/sanjay95/reference_DSEP_BPP/blob/main/docker-compose-local.yml
to start the containers

> docker-compose - f < docker-compose-local.yml file location > up -d 

> If you do not want to build the images and use the available images to run the setup, use the default docker compose file 
https://github.com/sanjay95/reference_DSEP_BPP/blob/main/docker-compose.yml
to start the containers 

#### BPP APIs will be available at 
- http://localhost:8088/search
- http://localhost:8088/select
- http://localhost:8088/confirm
- http://localhost:8088/status

##### Job Portal APIs will be available at 
http://localhost:8080/opensearch


- Create a job 
  - POST
  - http://localhost:8080/opensearch/addjob
    Payload sample:   https://github.com/sanjay95/reference_DSEP_BPP/blob/main/Sample_Job.json
    Job ID can be null, it will be generated by API.
- Get a single job for  ID
  - GET
  - http://localhost:8080/opensearch/jobs/AC9449C7608C944F5159B0C9FAEAAED0
- Get all applications for a job ID
  - GET
  - http://localhost:8080/opensearch/applications?jobid=8A690F158A37965A2CC0E69EC8B360B2
- Get A single application details
  - GET
  - http://localhost:8080/opensearch/applications/1676379236106
- Update an applications status
  - POST
  - http://localhost:8080/opensearch//applications

###### Application sample payload 
https://github.com/sanjay95/reference_DSEP_BPP/blob/main/Application_sample.json







